schema: '2.0'
stages:
  preprocess_dataset@WikiCS:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py WikiCS
    deps:
    - path: experiments/scripts/preprocess_dataset.py
      md5: 429a71cf32da15b9a941693b1605bdb9
      size: 329
    outs:
    - path: data/datasets/WikiCS/
      md5: 7ef0d1cda1998b72b9ac4338ca7e3c72.dir
      size: 102141146
      nfiles: 4
  preprocess_dataset@Amazon-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py Amazon-CS
    deps:
    - path: experiments/scripts/preprocess_dataset.py
      md5: 429a71cf32da15b9a941693b1605bdb9
      size: 329
    outs:
    - path: data/datasets/Amazon-CS/
      md5: 7f0937cd73da9482ebce6a4f3f70ea5e.dir
      size: 82919945
      nfiles: 4
  preprocess_dataset@Amazon-Photo:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py Amazon-Photo
    deps:
    - path: experiments/scripts/preprocess_dataset.py
      md5: 429a71cf32da15b9a941693b1605bdb9
      size: 329
    outs:
    - path: data/datasets/Amazon-Photo/
      md5: 5f52218ff80611104bb313bd310f4d0d.dir
      size: 44246369
      nfiles: 4
  preprocess_dataset@Coauthor-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py Coauthor-CS
    deps:
    - path: experiments/scripts/preprocess_dataset.py
      md5: 429a71cf32da15b9a941693b1605bdb9
      size: 329
    outs:
    - path: data/datasets/Coauthor-CS/
      md5: de381c7fb631620ea4d2247c513d5754.dir
      size: 515731875
      nfiles: 4
  preprocess_dataset@Coauthor-Physics:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py Coauthor-Physics
    deps:
    - path: experiments/scripts/preprocess_dataset.py
      md5: 429a71cf32da15b9a941693b1605bdb9
      size: 329
    outs:
    - path: data/datasets/Coauthor-Physics/
      md5: 3095b587964b691f75571c1088ab375d.dir
      size: 1187693422
      nfiles: 4
  preprocess_dataset@ogbn-arxiv:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py ogbn-arxiv
    deps:
    - path: experiments/scripts/preprocess_dataset.py
      md5: 429a71cf32da15b9a941693b1605bdb9
      size: 329
    outs:
    - path: data/datasets/ogbn-arxiv/
      md5: a80de10eee83c6819a9bb073c33aa08e.dir
      size: 191277877
      nfiles: 16
  preprocess_dataset@PPI:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py PPI
    deps:
    - path: experiments/scripts/preprocess_dataset.py
      md5: 429a71cf32da15b9a941693b1605bdb9
      size: 329
    outs:
    - path: data/datasets/PPI/
      md5: 218e6533b4e33d1b912caf915e7efbac.dir
      size: 201304017
      nfiles: 17
  preprocess_dataset@ogbn-products:
    cmd: PYTHONPATH=. python3 experiments/scripts/preprocess_dataset.py ogbn-products
    deps:
    - path: experiments/scripts/preprocess_dataset.py
      md5: 429a71cf32da15b9a941693b1605bdb9
      size: 329
    outs:
    - path: data/datasets/ogbn-products/
      md5: a5c0b54b7780d85213ff00693b66d26b.dir
      size: 4464823315
      nfiles: 15
  compare_running_times:
    cmd: PYTHONPATH=. python3 experiments/scripts/time/compare_running_times.py
    deps:
    - path: experiments/scripts/time/compare_running_times.py
      md5: 1f91652f749dfcfc08226f723907604f
      size: 16021
    outs:
    - path: data/time/log.csv
      md5: 876e34b8c94c5ac1e4fdc09cbe51a378
      size: 6189
    - path: data/time/summary_table.txt
      md5: a3a7e85aba42b047471a6e6a0584a2e2
      size: 831
  full_batch_hps@WikiCS:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/hps.py WikiCS
    deps:
    - path: data/datasets/WikiCS/
      md5: 7ef0d1cda1998b72b9ac4338ca7e3c72.dir
      size: 102141146
      nfiles: 4
    - path: experiments/scripts/full_batch/hps.py
      md5: 1c27cb4b3e3d35e1e7047341ed97f2fe
      size: 4820
    params:
      experiments/configs/full_batch/hps.yaml:
        WikiCS:
          total_epochs: 500
          warmup_epochs: 50
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          p_x:
            min: 0
            max: 0.5
            step: 0.1
          p_e:
            min: 0
            max: 0.5
            step: 0.1
          grid_type: ALL
          metric: accuracy
          emb_dim: 256
          lr_base: 0.0005
    outs:
    - path: data/full_batch/hps/WikiCS/best.json
      md5: 7ba719f6f5266c39d53b5a5331ac2320
      size: 394
    - path: data/full_batch/hps/WikiCS/log.csv
      md5: 452d34aef824e1772f6958d20bcfac87
      size: 75104
  full_batch_hps@Amazon-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/hps.py Amazon-CS
    deps:
    - path: data/datasets/Amazon-CS/
      md5: 7f0937cd73da9482ebce6a4f3f70ea5e.dir
      size: 82919945
      nfiles: 4
    - path: experiments/scripts/full_batch/hps.py
      md5: 1c27cb4b3e3d35e1e7047341ed97f2fe
      size: 4820
    params:
      experiments/configs/full_batch/hps.yaml:
        Amazon-CS:
          total_epochs: 500
          warmup_epochs: 50
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          p_x:
            min: 0
            max: 0.5
            step: 0.1
          p_e:
            min: 0
            max: 0.5
            step: 0.1
          grid_type: ALL
          metric: accuracy
          emb_dim: 128
          lr_base: 0.0005
    outs:
    - path: data/full_batch/hps/Amazon-CS/best.json
      md5: 52994d7e16967c89b3a4a5d5974ef0b5
      size: 395
    - path: data/full_batch/hps/Amazon-CS/log.csv
      md5: 81a54b245203a1084c1790371c248dba
      size: 74046
  full_batch_hps@Amazon-Photo:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/hps.py Amazon-Photo
    deps:
    - path: data/datasets/Amazon-Photo/
      md5: 5f52218ff80611104bb313bd310f4d0d.dir
      size: 44246369
      nfiles: 4
    - path: experiments/scripts/full_batch/hps.py
      md5: 1c27cb4b3e3d35e1e7047341ed97f2fe
      size: 4820
    params:
      experiments/configs/full_batch/hps.yaml:
        Amazon-Photo:
          total_epochs: 500
          warmup_epochs: 50
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          p_x:
            min: 0
            max: 0.5
            step: 0.1
          p_e:
            min: 0
            max: 0.5
            step: 0.1
          grid_type: ALL
          metric: accuracy
          emb_dim: 256
          lr_base: 0.0001
    outs:
    - path: data/full_batch/hps/Amazon-Photo/best.json
      md5: 9a592b5414e007b3b9551b43b78089a4
      size: 411
    - path: data/full_batch/hps/Amazon-Photo/log.csv
      md5: 10573d56818bdb0a1170ec7850751d0c
      size: 75274
  full_batch_hps@Coauthor-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/hps.py Coauthor-CS
    deps:
    - path: data/datasets/Coauthor-CS/
      md5: de381c7fb631620ea4d2247c513d5754.dir
      size: 515731875
      nfiles: 4
    - path: experiments/scripts/full_batch/hps.py
      md5: 1c27cb4b3e3d35e1e7047341ed97f2fe
      size: 4820
    params:
      experiments/configs/full_batch/hps.yaml:
        Coauthor-CS:
          total_epochs: 500
          warmup_epochs: 50
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          p_x:
            min: 0
            max: 0.5
            step: 0.1
          p_e:
            min: 0
            max: 0.5
            step: 0.1
          grid_type: ALL
          metric: accuracy
          emb_dim: 256
          lr_base: 1e-05
    outs:
    - path: data/full_batch/hps/Coauthor-CS/best.json
      md5: 16c009113927242d6ca5e47a646bdbeb
      size: 411
    - path: data/full_batch/hps/Coauthor-CS/log.csv
      md5: fc1c2bba21146279e7a56880ae92876d
      size: 75514
  full_batch_hps@Coauthor-Physics:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/hps.py Coauthor-Physics
    deps:
    - path: data/datasets/Coauthor-Physics/
      md5: 3095b587964b691f75571c1088ab375d.dir
      size: 1187693422
      nfiles: 4
    - path: experiments/scripts/full_batch/hps.py
      md5: 1c27cb4b3e3d35e1e7047341ed97f2fe
      size: 4820
    params:
      experiments/configs/full_batch/hps.yaml:
        Coauthor-Physics:
          total_epochs: 500
          warmup_epochs: 50
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          p_x:
            min: 0
            max: 0.5
            step: 0.1
          p_e:
            min: 0
            max: 0.5
            step: 0.1
          grid_type: ALL
          metric: accuracy
          emb_dim: 128
          lr_base: 1e-05
    outs:
    - path: data/full_batch/hps/Coauthor-Physics/best.json
      md5: bcf3a61824340b0087d117648e0e0685
      size: 395
    - path: data/full_batch/hps/Coauthor-Physics/log.csv
      md5: 56fac94c371f0a276a14aa5c62978a1e
      size: 75296
  full_batch_hps@ogbn-arxiv:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/hps.py ogbn-arxiv
    deps:
    - path: data/datasets/ogbn-arxiv/
      md5: a80de10eee83c6819a9bb073c33aa08e.dir
      size: 191277877
      nfiles: 16
    - path: experiments/scripts/full_batch/hps.py
      md5: 1c27cb4b3e3d35e1e7047341ed97f2fe
      size: 4820
    params:
      experiments/configs/full_batch/hps.yaml:
        ogbn-arxiv:
          total_epochs: 500
          warmup_epochs: 50
          encoder_cls: gssl.full_batch.encoders.ThreeLayerGCNEncoder
          use_pytorch_eval_model: true
          p_x:
            min: 0
            max: 0.5
            step: 0.1
          p_e:
            min: 0
            max: 0.5
            step: 0.1
          grid_type: ONLY_SAME
          metric: accuracy
          emb_dim: 256
          lr_base: 0.01
    outs:
    - path: data/full_batch/hps/ogbn-arxiv/best.json
      md5: fe114253b6a6a26df1444760cc8c6f58
      size: 271
    - path: data/full_batch/hps/ogbn-arxiv/log.csv
      md5: b3e4ad0bfee7cfbf9ed415360f5ca976
      size: 3702
  full_batch_train@Amazon-Photo:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train.py Amazon-Photo
    deps:
    - path: data/datasets/Amazon-Photo/
      md5: 5f52218ff80611104bb313bd310f4d0d.dir
      size: 44246369
      nfiles: 4
    - path: experiments/scripts/full_batch/train.py
      md5: 1824ca5bf0b4642b725d5ed5b48bd28a
      size: 5534
    - path: gssl/full_batch/model.py
      md5: f417e897aac48d7ae20fc6f0beefd13a
      size: 4999
    params:
      data/full_batch/hps/Amazon-Photo/best.json:
        SAME:
          accuracy: 0.9297385620915033
          params:
            p_x_1: 0.5
            p_e_1: 0.0
            p_x_2: 0.5
            p_e_2: 0.0
      experiments/configs/full_batch/train.yaml:
        Amazon-Photo:
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          emb_dim: 256
          lr_base: 0.0001
    outs:
    - path: data/full_batch/train/Amazon-Photo/
      md5: a9c8fa6a90d44982a0b665755198bf7f.dir
      size: 1886760053
      nfiles: 262
  full_batch_train@WikiCS:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train.py WikiCS
    deps:
    - path: data/datasets/WikiCS/
      md5: 7ef0d1cda1998b72b9ac4338ca7e3c72.dir
      size: 102141146
      nfiles: 4
    - path: experiments/scripts/full_batch/train.py
      md5: 1824ca5bf0b4642b725d5ed5b48bd28a
      size: 5534
    - path: gssl/full_batch/model.py
      md5: f417e897aac48d7ae20fc6f0beefd13a
      size: 4999
    params:
      data/full_batch/hps/WikiCS/best.json:
        SAME:
          accuracy: 0.7790319822131008
          params:
            p_x_1: 0.1
            p_e_1: 0.2
            p_x_2: 0.1
            p_e_2: 0.2
      experiments/configs/full_batch/train.yaml:
        WikiCS:
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          emb_dim: 256
          lr_base: 0.0005
    outs:
    - path: data/full_batch/train/WikiCS/
      md5: ef79a3d49629f95b51b9f2c8a7df2ca1.dir
      size: 2776279668
      nfiles: 262
  full_batch_train@Amazon-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train.py Amazon-CS
    deps:
    - path: data/datasets/Amazon-CS/
      md5: 7f0937cd73da9482ebce6a4f3f70ea5e.dir
      size: 82919945
      nfiles: 4
    - path: experiments/scripts/full_batch/train.py
      md5: 1824ca5bf0b4642b725d5ed5b48bd28a
      size: 5534
    - path: gssl/full_batch/model.py
      md5: f417e897aac48d7ae20fc6f0beefd13a
      size: 4999
    params:
      data/full_batch/hps/Amazon-CS/best.json:
        SAME:
          accuracy: 0.8823850209052899
          params:
            p_x_1: 0.1
            p_e_1: 0.4
            p_x_2: 0.1
            p_e_2: 0.4
      experiments/configs/full_batch/train.yaml:
        Amazon-CS:
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          emb_dim: 128
          lr_base: 0.0005
    outs:
    - path: data/full_batch/train/Amazon-CS/
      md5: bef4750e4516719fa0e2bf0d25d40439.dir
      size: 1650162084
      nfiles: 262
  full_batch_train@Coauthor-Physics:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train.py Coauthor-Physics
    deps:
    - path: data/datasets/Coauthor-Physics/
      md5: 3095b587964b691f75571c1088ab375d.dir
      size: 1187693422
      nfiles: 4
    - path: experiments/scripts/full_batch/train.py
      md5: 1824ca5bf0b4642b725d5ed5b48bd28a
      size: 5534
    - path: gssl/full_batch/model.py
      md5: f417e897aac48d7ae20fc6f0beefd13a
      size: 4999
    params:
      data/full_batch/hps/Coauthor-Physics/best.json:
        SAME:
          accuracy: 0.9493730521127781
          params:
            p_x_1: 0.4
            p_e_1: 0.1
            p_x_2: 0.4
            p_e_2: 0.1
      experiments/configs/full_batch/train.yaml:
        Coauthor-Physics:
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          emb_dim: 128
          lr_base: 1e-05
    outs:
    - path: data/full_batch/train/Coauthor-Physics/
      md5: 9610202d0d49ad11d5ef00e6a88b9ad4.dir
      size: 4473054572
      nfiles: 262
  full_batch_train@Coauthor-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train.py Coauthor-CS
    deps:
    - path: data/datasets/Coauthor-CS/
      md5: de381c7fb631620ea4d2247c513d5754.dir
      size: 515731875
      nfiles: 4
    - path: experiments/scripts/full_batch/train.py
      md5: 1824ca5bf0b4642b725d5ed5b48bd28a
      size: 5534
    - path: gssl/full_batch/model.py
      md5: f417e897aac48d7ae20fc6f0beefd13a
      size: 4999
    params:
      data/full_batch/hps/Coauthor-CS/best.json:
        SAME:
          accuracy: 0.9335878903586526
          params:
            p_x_1: 0.1
            p_e_1: 0.5
            p_x_2: 0.1
            p_e_2: 0.5
      experiments/configs/full_batch/train.yaml:
        Coauthor-CS:
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          encoder_cls: gssl.full_batch.encoders.TwoLayerGCNEncoder
          use_pytorch_eval_model: false
          emb_dim: 256
          lr_base: 1e-05
    outs:
    - path: data/full_batch/train/Coauthor-CS/
      md5: b25076088015701a3654a4d83faf12d2.dir
      size: 5060771800
      nfiles: 262
  full_batch_train@ogbn-arxiv:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train.py ogbn-arxiv
    deps:
    - path: data/datasets/ogbn-arxiv/
      md5: a80de10eee83c6819a9bb073c33aa08e.dir
      size: 191277877
      nfiles: 16
    - path: experiments/scripts/full_batch/train.py
      md5: 1824ca5bf0b4642b725d5ed5b48bd28a
      size: 5534
    - path: gssl/full_batch/model.py
      md5: f417e897aac48d7ae20fc6f0beefd13a
      size: 4999
    params:
      data/full_batch/hps/ogbn-arxiv/best.json:
        SAME:
          accuracy: 0.6752463839680678
          params:
            p_x_1: 0.0
            p_e_1: 0.2
            p_x_2:
            p_e_2:
      experiments/configs/full_batch/train.yaml:
        ogbn-arxiv:
          total_epochs: 500
          warmup_epochs: 100
          log_interval: 100
          encoder_cls: gssl.full_batch.encoders.ThreeLayerGCNEncoder
          use_pytorch_eval_model: true
          emb_dim: 256
          lr_base: 0.001
    outs:
    - path: data/full_batch/train/ogbn-arxiv/
      md5: d21cc630f57f18a40a2d960d7652ceb8.dir
      size: 20894315852
      nfiles: 162
  full_batch_hps@PPI:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/hps.py PPI
    deps:
    - path: data/datasets/PPI/
      md5: 218e6533b4e33d1b912caf915e7efbac.dir
      size: 201304017
      nfiles: 17
    - path: experiments/scripts/full_batch/hps.py
      md5: 1c27cb4b3e3d35e1e7047341ed97f2fe
      size: 4820
    params:
      experiments/configs/full_batch/hps.yaml:
        PPI:
          total_epochs: 500
          warmup_epochs: 50
          encoder_cls: gssl.full_batch.encoders.GATEncoder
          use_pytorch_eval_model: false
          p_x:
            min: 0
            max: 0.5
            step: 0.1
          p_e:
            min: 0
            max: 0.5
            step: 0.1
          grid_type: ONLY_SAME
          metric: f1
          emb_dim: 512
          lr_base: 0.005
    outs:
    - path: data/full_batch/hps/PPI/best.json
      md5: 6603666dd2639b6385f87e1978d9d3e0
      size: 259
    - path: data/full_batch/hps/PPI/log.csv
      md5: f193adcdb78fff3612f2e1386c1e7092
      size: 3698
  full_batch_train@PPI:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train.py PPI
    deps:
    - path: data/datasets/PPI/
      md5: 218e6533b4e33d1b912caf915e7efbac.dir
      size: 201304017
      nfiles: 17
    - path: experiments/scripts/full_batch/train.py
      md5: 1824ca5bf0b4642b725d5ed5b48bd28a
      size: 5534
    - path: gssl/full_batch/model.py
      md5: f417e897aac48d7ae20fc6f0beefd13a
      size: 4999
    params:
      data/full_batch/hps/PPI/best.json:
        SAME:
          f1: 0.7054821118956851
          params:
            p_x_1: 0.1
            p_e_1: 0.1
            p_x_2:
            p_e_2:
      experiments/configs/full_batch/train.yaml:
        PPI:
          total_epochs: 500
          warmup_epochs: 50
          log_interval: 100
          encoder_cls: gssl.full_batch.encoders.GATEncoder
          emb_dim: 512
          lr_base: 0.005
    outs:
    - path: data/full_batch/train/PPI/
      md5: 23e99b20d5bcc479531c27b52563cab5.dir
      size: 15408040571
      nfiles: 162
  compare_augmentation_hyperparameter_sets:
    cmd: PYTHONPATH=. python3 experiments/scripts/compare_augmentation_hyperparameter_sets.py
    deps:
    - path: data/full_batch/hps/
      md5: 53290aa03e3bdf3986bfbfd1e10886d6.dir
      size: 385170
      nfiles: 14
    - path: experiments/scripts/compare_augmentation_hyperparameter_sets.py
      md5: cd04121386710d8c0ff9a3be0d57cf25
      size: 2606
    outs:
    - path: data/augmentation_hyperparameter_plot.png
      md5: 144ade08e7b08c5e2debc21b1863ab2f
      size: 49282
  batched_hps_ogbn_products:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/hps.py ogbn-products
    deps:
    - path: data/datasets/ogbn-products/
      md5: a5c0b54b7780d85213ff00693b66d26b.dir
      size: 4464823315
      nfiles: 15
    - path: experiments/scripts/batched/hps.py
      md5: 5df6da43c2d88f4fea0a7bc18c35dcb8
      size: 5668
    params:
      experiments/configs/batched/hps.yaml:
        ogbn-products:
          encoder_cls: gssl.batched.encoders.BatchedGAT
          batch_sizes:
          - 512
          inference_batch_size: 1024
          use_pytorch_eval_model: true
          use_train_mask: true
          total_epochs: 10
          warmup_epochs: 2
          p_x:
            min: 0
            max: 0.5
            step: 0.1
          p_e:
            min: 0
            max: 0.5
            step: 0.1
          grid_type: ONLY_SAME
          metric: accuracy
          emb_dim: 128
          lr_base: 0.001
    outs:
    - path: data/batched/hps/ogbn-products/best.json
      md5: 01523acb3e7d4efc8039e3b6b02ccbe8
      size: 361
    - path: data/batched/hps/ogbn-products/log.csv
      md5: 769d9dc8a9e475473a338a773b974f01
      size: 3861
  train_bgrl_full_batch@WikiCS:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train_bgrl.py WikiCS
    deps:
    - path: data/datasets/WikiCS/
      md5: 7ef0d1cda1998b72b9ac4338ca7e3c72.dir
      size: 102141146
      nfiles: 4
    - path: experiments/scripts/full_batch/train_bgrl.py
      md5: 49640c817564b69d08ef3dfbe7f87cdc
      size: 7689
    params:
      experiments/configs/full_batch/train_bgrl.yaml:
        WikiCS:
          total_epochs: 10000
          warmup_epochs: 1000
          log_interval: 1000
          use_pytorch_eval_model: false
          p_f_1: 0.2
          p_f_2: 0.1
          p_e_1: 0.2
          p_e_2: 0.3
          lr_base: 0.0005
          emb_dim: 256
          hidden_dim: 512
          pred_dim: 512
    outs:
    - path: data/full_batch/train_bgrl/WikiCS/
      md5: 1fd1d1b8ac2dcf3a8a5dafae58d98baf.dir
      size: 20618469
      nfiles: 7
  train_bgrl_full_batch@Amazon-Photo:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train_bgrl.py Amazon-Photo
    deps:
    - path: data/datasets/Amazon-Photo/
      md5: 5f52218ff80611104bb313bd310f4d0d.dir
      size: 44246369
      nfiles: 4
    - path: experiments/scripts/full_batch/train_bgrl.py
      md5: 49640c817564b69d08ef3dfbe7f87cdc
      size: 7689
    params:
      experiments/configs/full_batch/train_bgrl.yaml:
        Amazon-Photo:
          total_epochs: 10000
          warmup_epochs: 1000
          log_interval: 1000
          use_pytorch_eval_model: false
          p_f_1: 0.1
          p_f_2: 0.2
          p_e_1: 0.4
          p_e_2: 0.1
          lr_base: 0.0001
          emb_dim: 256
          hidden_dim: 512
          pred_dim: 512
    outs:
    - path: data/full_batch/train_bgrl/Amazon-Photo/
      md5: bd3fbc4dc6f6a39174cda77f4472c283.dir
      size: 11106541
      nfiles: 7
  train_bgrl_full_batch@Amazon-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train_bgrl.py Amazon-CS
    deps:
    - path: data/datasets/Amazon-CS/
      md5: 7f0937cd73da9482ebce6a4f3f70ea5e.dir
      size: 82919945
      nfiles: 4
    - path: experiments/scripts/full_batch/train_bgrl.py
      md5: 49640c817564b69d08ef3dfbe7f87cdc
      size: 7689
    params:
      experiments/configs/full_batch/train_bgrl.yaml:
        Amazon-CS:
          total_epochs: 10000
          warmup_epochs: 1000
          log_interval: 1000
          use_pytorch_eval_model: false
          p_f_1: 0.2
          p_f_2: 0.1
          p_e_1: 0.5
          p_e_2: 0.4
          lr_base: 0.0005
          emb_dim: 128
          hidden_dim: 256
          pred_dim: 512
    outs:
    - path: data/full_batch/train_bgrl/Amazon-CS/
      md5: f9f09afbb5f11cfad755c7f7167ecbbb.dir
      size: 14354567
      nfiles: 7
  batched_train@Amazon-Photo:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/train.py Amazon-Photo
    deps:
    - path: data/datasets/Amazon-Photo/
      md5: 5f52218ff80611104bb313bd310f4d0d.dir
      size: 44246369
      nfiles: 4
    - path: experiments/scripts/batched/train.py
      md5: 9dd28a95bedc6a4074be429a8a3b5d7d
      size: 6752
    params:
      data/full_batch/hps/Amazon-Photo/best.json:
        SAME:
          accuracy: 0.9297385620915033
          params:
            p_x_1: 0.5
            p_e_1: 0.0
            p_x_2: 0.5
            p_e_2: 0.0
      experiments/configs/batched/train.yaml:
        Amazon-Photo:
          encoder_cls: gssl.batched.encoders.BatchedTwoLayerGCN
          batch_sizes:
          - 256
          - 512
          - 1024
          - 2048
          inference_batch_size: 1024
          use_pytorch_eval_model: false
          use_train_mask: false
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          num_splits: 20
          emb_dim: 256
          lr_base: 0.0001
    outs:
    - path: data/batched/train/Amazon-Photo/
      md5: 5dfa2da6fc12efaca02d442763e96f6a.dir
      size: 7498494230
      nfiles: 1048
  batched_train@WikiCS:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/train.py WikiCS
    deps:
    - path: data/datasets/WikiCS/
      md5: 7ef0d1cda1998b72b9ac4338ca7e3c72.dir
      size: 102141146
      nfiles: 4
    - path: experiments/scripts/batched/train.py
      md5: 9dd28a95bedc6a4074be429a8a3b5d7d
      size: 6752
    params:
      data/full_batch/hps/WikiCS/best.json:
        SAME:
          accuracy: 0.7790319822131008
          params:
            p_x_1: 0.1
            p_e_1: 0.2
            p_x_2: 0.1
            p_e_2: 0.2
      experiments/configs/batched/train.yaml:
        WikiCS:
          encoder_cls: gssl.batched.encoders.BatchedTwoLayerGCN
          batch_sizes:
          - 256
          - 512
          - 1024
          - 2048
          inference_batch_size: 1024
          use_pytorch_eval_model: false
          use_train_mask: false
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          num_splits: 20
          emb_dim: 256
          lr_base: 0.0005
    outs:
    - path: data/batched/train/WikiCS/
      md5: 1336b36f4f1f98e8ab26027148084211.dir
      size: 11032635542
      nfiles: 1048
  train_bgrl_full_batch@Coauthor-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/full_batch/train_bgrl.py Coauthor-CS
    deps:
    - path: data/datasets/Coauthor-CS/
      md5: de381c7fb631620ea4d2247c513d5754.dir
      size: 515731875
      nfiles: 4
    - path: experiments/scripts/full_batch/train_bgrl.py
      md5: 49640c817564b69d08ef3dfbe7f87cdc
      size: 7689
    params:
      experiments/configs/full_batch/train_bgrl.yaml:
        Coauthor-CS:
          total_epochs: 10000
          warmup_epochs: 1000
          log_interval: 1000
          use_pytorch_eval_model: false
          p_f_1: 0.3
          p_f_2: 0.4
          p_e_1: 0.3
          p_e_2: 0.2
          lr_base: 1e-05
          emb_dim: 256
          hidden_dim: 512
          pred_dim: 512
    outs:
    - path: data/full_batch/train_bgrl/Coauthor-CS/
      md5: b707353516ce40537e4af05196cdc03e.dir
      size: 14504988
      nfiles: 7
  bgrl_hps_batched@ogbn-products:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/hps_bgrl.py ogbn-products
    deps:
    - path: data/datasets/ogbn-products/
      md5: a5c0b54b7780d85213ff00693b66d26b.dir
      size: 4464823315
      nfiles: 15
    - path: experiments/scripts/batched/hps_bgrl.py
      md5: 307c4e388f9d5eb00d0e7b1077169c8b
      size: 5399
    params:
      experiments/configs/batched/hps_bgrl.yaml:
        ogbn-products:
          encoder_cls: src.bgrl.BatchedGAT4BGRL
          batch_sizes:
          - 512
          inference_batch_size: 1024
          use_pytorch_eval_model: true
          use_train_mask: true
          p_x:
            min: 0
            max: 0.5
            step: 0.1
          p_e:
            min: 0
            max: 0.5
            step: 0.1
          grid_type: ONLY_SAME
          metric: accuracy
          emb_dim: 128
          hidden_dim: 256
          pred_dim: 512
          lr_base: 0.001
          total_epochs: 10
          warmup_epochs: 2
    outs:
    - path: data/batched/hps_bgrl/ogbn-products/best.json
      md5: 2ff53cdd27404265669ae0485d81e787
      size: 377
    - path: data/batched/hps_bgrl/ogbn-products/log.csv
      md5: 8381870a6490fa5d8e60806bdbd15e18
      size: 2920
  batched_train_ogbn_products:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/train.py ogbn-products
    deps:
    - path: data/datasets/ogbn-products/
      md5: a5c0b54b7780d85213ff00693b66d26b.dir
      size: 4464823315
      nfiles: 15
    - path: experiments/scripts/batched/train.py
      md5: 9dd28a95bedc6a4074be429a8a3b5d7d
      size: 6752
    params:
      data/batched/hps/ogbn-products/best.json:
        SAME:
          '512':
            accuracy: 0.6825006292104572
            params:
              p_x_1: 0.1
              p_e_1: 0.2
              p_x_2:
              p_e_2:
      experiments/configs/batched/train.yaml:
        ogbn-products:
          encoder_cls: gssl.batched.encoders.BatchedGAT
          batch_sizes:
          - 512
          inference_batch_size: 1024
          use_pytorch_eval_model: true
          use_train_mask: true
          total_epochs: 100
          warmup_epochs: 10
          log_interval: 10
          num_splits: 5
          emb_dim: 128
          lr_base: 0.001
    outs:
    - path: data/batched/train/ogbn-products/
      md5: a164a7c2c29d27505f6dd911abcbc8e2.dir
      size: 69166595009
      nfiles: 67
  bgrl_batched_train@ogbn-products:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/train_bgrl.py ogbn-products
    deps:
    - path: data/datasets/ogbn-products/
      md5: a5c0b54b7780d85213ff00693b66d26b.dir
      size: 4464823315
      nfiles: 15
    - path: experiments/scripts/batched/train_bgrl.py
      md5: 706ec8ff6436f613c10a5602db15f45c
      size: 6800
    params:
      data/batched/hps_bgrl/ogbn-products/best.json:
        SAME:
          '512':
            accuracy: 0.7037866947179308
            params:
              p_x_1: 0.30000000000000004
              p_e_1: 0.4
              p_x_2:
              p_e_2:
      experiments/configs/batched/train_bgrl.yaml:
        ogbn-products:
          encoder_cls: src.bgrl.BatchedGAT4BGRL
          batch_sizes:
          - 512
          inference_batch_size: 1024
          use_pytorch_eval_model: true
          use_train_mask: true
          total_epochs: 100
          warmup_epochs: 10
          log_interval: 10
          num_splits: 5
          emb_dim: 128
          hidden_dim: 256
          pred_dim: 512
          lr_base: 0.001
    outs:
    - path: data/batched/train_bgrl/ogbn-products/
      md5: ee58dd1404ed2c43cb86f722f9d17f95.dir
      size: 22353492
      nfiles: 7
  batched_train@Coauthor-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/train.py Coauthor-CS
    deps:
    - path: data/datasets/Coauthor-CS/
      md5: de381c7fb631620ea4d2247c513d5754.dir
      size: 515731875
      nfiles: 4
    - path: experiments/scripts/batched/train.py
      md5: 9dd28a95bedc6a4074be429a8a3b5d7d
      size: 6752
    params:
      data/full_batch/hps/Coauthor-CS/best.json:
        SAME:
          accuracy: 0.9335878903586526
          params:
            p_x_1: 0.1
            p_e_1: 0.5
            p_x_2: 0.1
            p_e_2: 0.5
      experiments/configs/batched/train.yaml:
        Coauthor-CS:
          encoder_cls: gssl.batched.encoders.BatchedTwoLayerGCN
          batch_sizes:
          - 256
          - 512
          - 1024
          - 2048
          inference_batch_size: 1024
          use_pytorch_eval_model: false
          use_train_mask: false
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          num_splits: 5
          emb_dim: 256
          lr_base: 1e-05
    outs:
    - path: data/batched/train/Coauthor-CS/
      md5: e6fffa2dee1edfa0f31a1bbeb9d2287a.dir
      size: 5052068904
      nfiles: 270
  batched_train@Amazon-CS:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/train.py Amazon-CS
    deps:
    - path: data/datasets/Amazon-CS/
      md5: 7f0937cd73da9482ebce6a4f3f70ea5e.dir
      size: 82919945
      nfiles: 4
    - path: experiments/scripts/batched/train.py
      md5: 9dd28a95bedc6a4074be429a8a3b5d7d
      size: 6752
    params:
      data/full_batch/hps/Amazon-CS/best.json:
        SAME:
          accuracy: 0.8823850209052899
          params:
            p_x_1: 0.1
            p_e_1: 0.4
            p_x_2: 0.1
            p_e_2: 0.4
      experiments/configs/batched/train.yaml:
        Amazon-CS:
          encoder_cls: gssl.batched.encoders.BatchedTwoLayerGCN
          batch_sizes:
          - 256
          - 512
          - 1024
          - 2048
          inference_batch_size: 1024
          use_pytorch_eval_model: false
          use_train_mask: false
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          num_splits: 20
          emb_dim: 128
          lr_base: 0.0005
    outs:
    - path: data/batched/train/Amazon-CS/
      md5: d15e7d0c6f124c67bce2050f3dbdd6ad.dir
      size: 6578916344
      nfiles: 1048
  batched_train@PPI:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/train.py PPI
    deps:
    - path: data/datasets/PPI/
      md5: 218e6533b4e33d1b912caf915e7efbac.dir
      size: 201304017
      nfiles: 17
    - path: experiments/scripts/batched/train.py
      md5: 9dd28a95bedc6a4074be429a8a3b5d7d
      size: 6752
    params:
      data/full_batch/hps/PPI/best.json:
        SAME:
          f1: 0.7054821118956851
          params:
            p_x_1: 0.1
            p_e_1: 0.1
            p_x_2:
            p_e_2:
      experiments/configs/batched/train.yaml:
        PPI:
          encoder_cls: gssl.batched.encoders.BatchedGAT
          batch_sizes:
          - 512
          - 1024
          inference_batch_size: 1024
          use_pytorch_eval_model: false
          use_train_mask: false
          total_epochs: 500
          warmup_epochs: 50
          log_interval: 100
          num_splits: 5
          emb_dim: 512
          lr_base: 0.005
    outs:
    - path: data/batched/train/PPI/
      md5: 4e1525447e73e09c44163e827158565c.dir
      size: 7578716222
      nfiles: 93
  batched_train@ogbn-arxiv:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/train.py ogbn-arxiv
    deps:
    - path: data/datasets/ogbn-arxiv/
      md5: a80de10eee83c6819a9bb073c33aa08e.dir
      size: 191277877
      nfiles: 16
    - path: experiments/scripts/batched/train.py
      md5: 9dd28a95bedc6a4074be429a8a3b5d7d
      size: 6752
    params:
      data/full_batch/hps/ogbn-arxiv/best.json:
        SAME:
          accuracy: 0.6752463839680678
          params:
            p_x_1: 0.0
            p_e_1: 0.2
            p_x_2:
            p_e_2:
      experiments/configs/batched/train.yaml:
        ogbn-arxiv:
          encoder_cls: gssl.batched.encoders.BatchedThreeLayerGCN
          batch_sizes:
          - 1024
          - 2048
          inference_batch_size: 1024
          use_pytorch_eval_model: true
          use_train_mask: false
          total_epochs: 500
          warmup_epochs: 100
          log_interval: 100
          num_splits: 5
          emb_dim: 256
          lr_base: 0.001
    outs:
    - path: data/batched/train/ogbn-arxiv/
      md5: 07f57ec42cb9eed05727cf6f9b79df96.dir
      size: 10456440464
      nfiles: 85
  batched_train@Coauthor-Physics:
    cmd: PYTHONPATH=. python3 experiments/scripts/batched/train.py Coauthor-Physics
    deps:
    - path: data/datasets/Coauthor-Physics/
      md5: 3095b587964b691f75571c1088ab375d.dir
      size: 1187693422
      nfiles: 4
    - path: experiments/scripts/batched/train.py
      md5: 9dd28a95bedc6a4074be429a8a3b5d7d
      size: 6752
    params:
      data/full_batch/hps/Coauthor-Physics/best.json:
        SAME:
          accuracy: 0.9493730521127781
          params:
            p_x_1: 0.4
            p_e_1: 0.1
            p_x_2: 0.4
            p_e_2: 0.1
      experiments/configs/batched/train.yaml:
        Coauthor-Physics:
          encoder_cls: gssl.batched.encoders.BatchedTwoLayerGCN
          batch_sizes:
          - 256
          - 512
          - 1024
          - 2048
          inference_batch_size: 1024
          use_pytorch_eval_model: false
          use_train_mask: false
          total_epochs: 1000
          warmup_epochs: 100
          log_interval: 100
          num_splits: 5
          emb_dim: 128
          lr_base: 1e-05
    outs:
    - path: data/batched/train/Coauthor-Physics/
      md5: 67d6393bf1806ee2f3a4a213464a2ea2.dir
      size: 2235331437
      nfiles: 134
  evaluate_features_products:
    cmd: PYTHONPATH=. python3 experiments/scripts/products/features.py
    deps:
    - path: data/datasets/ogbn-products/
      md5: a5c0b54b7780d85213ff00693b66d26b.dir
      size: 4464823315
      nfiles: 15
    - path: experiments/scripts/products/features.py
      md5: 37ee2b227b8aba450a0908909d09d5c0
      size: 1384
    outs:
    - path: data/products/features.json
      md5: ba46307f286d6c9e9f0e418113b2eaa6
      size: 149
  evaluate_deepwalk_products:
    cmd: PYTHONPATH=. python3 experiments/scripts/products/deepwalk.py
    deps:
    - path: data/datasets/ogbn-products/
      md5: a5c0b54b7780d85213ff00693b66d26b.dir
      size: 4464823315
      nfiles: 15
    - path: experiments/scripts/products/deepwalk.py
      md5: 751012f7e2be47c491b565ef34677e28
      size: 3181
    outs:
    - path: data/products/deepwalk.json
      md5: a033ae792a624fed220b0cc92769e13d
      size: 476
    - path: data/products/deepwalk_features.json
      md5: e56c14d833d07664d21a5366dae23050
      size: 476
  run_lambda_ablation:
    cmd: PYTHONPATH=. python3 experiments/scripts/run_lambda_ablation.py
    deps:
    - path: experiments/scripts/run_lambda_ablation.py
      md5: 2ecf186d24fd236b0b65ecc436991b30
      size: 8285
    outs:
    - path: data/lambda_ablation_results.csv
      md5: 298cc18dacd66feb47a3c7f9c67d3947
      size: 374
